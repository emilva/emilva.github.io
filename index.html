<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll-Based Distorted Text Animation</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 200vh; /* Make the page scrollable */
      background-color: #fff;
      font-family: Arial, sans-serif;
    }

    .distortion-block {
      position: relative;
      width: 80%;
      height: 40%;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 50vh; /* Center the text */
    }

    h1 {
      font-size: 120px;
      font-weight: bold;
      color: #FF0000;
      filter: url(#distortion-filter); /* Apply the SVG filter here */
      text-transform: uppercase;
    }

    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0; /* Hide the actual SVG but keep its effects */
    }

  </style>
</head>
<body>

  <div class="distortion-block">
    <h1 id="dynamic-text">VAAGLAND</h1>

    <!-- SVG that defines the distortion filter -->
    <svg xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="distortion-filter" x="0" y="0" width="200%" height="200%">
          <feTurbulence id="turbulence" baseFrequency="0.01" numOctaves="3" seed="2" result="NOISE" />
          <feDisplacementMap in="SourceGraphic" in2="NOISE" scale="50" xChannelSelector="R" yChannelSelector="G" />
          <feGaussianBlur stdDeviation="1" />
        </filter>
      </defs>
    </svg>
  </div>

  <script>
    const turbulence = document.getElementById('turbulence');
    const displacementMap = document.querySelector('feDisplacementMap');
    const dynamicText = document.getElementById("dynamic-text");

    window.onscroll = function () {
      // Get the scroll position relative to the page height
      const scrollPos = window.scrollY / (document.body.scrollHeight - window.innerHeight);

      // Update the base frequency of the turbulence as you scroll
      const baseFrequency = 0.01 + (scrollPos * 0.03);  // Increase with scroll
      turbulence.setAttribute('baseFrequency', baseFrequency);

      // Update the scale of the displacement map based on scroll
      const scaleValue = 30 + (scrollPos * 100); // Change from 30 to 130
      displacementMap.setAttribute('scale', scaleValue);

      // Optional: Change text content based on scroll position
      if (scrollPos > 0.5) {
        dynamicText.textContent = "SCROLLED";
      } else {
        dynamicText.textContent = "VAAGLAND";
      }
    };
  </script>

</body>
</html>
